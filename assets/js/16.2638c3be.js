(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{581:function(a,t,e){a.exports=e.p+"assets/img/img1.1d63f47c.png"},614:function(a,t,e){"use strict";e.r(t);var _=e(17),v=Object(_.a)({},(function(){var a=this,t=a.$createElement,_=a._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[_("h2",{attrs:{id:"简介"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),_("blockquote",[_("p",[a._v("用于研究VR设备中存在的图像畸变和畸变校正算法,可展示畸变矫正算法的效果")])]),a._v(" "),_("h4",{attrs:{id:"技术选型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#技术选型"}},[a._v("#")]),a._v(" 技术选型")]),a._v(" "),_("ul",[_("li",[a._v("Electron")]),a._v(" "),_("li",[a._v("Vue.js")]),a._v(" "),_("li",[a._v("Node.js")])]),a._v(" "),_("h2",{attrs:{id:"一、相关概念和算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#一、相关概念和算法"}},[a._v("#")]),a._v(" 一、相关概念和算法")]),a._v(" "),_("h3",{attrs:{id:"_1-失真"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-失真"}},[a._v("#")]),a._v(" 1."),_("a",{attrs:{href:"https://en.wikipedia.org/wiki/Distortion_(optics)",target:"_blank",rel:"noopener noreferrer"}},[a._v("失真")])]),a._v(" "),_("ul",[_("li",[a._v("在VR设备中存在的畸变主要是图像畸变中的径向畸变，其他畸变占比不大，故不纳入考虑范围。")]),a._v(" "),_("li",[a._v("径向畸变分为枕形畸变和桶形畸变，如图。\n"),_("img",{attrs:{src:e(581)}})])]),a._v(" "),_("h3",{attrs:{id:"_2-遗传算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-遗传算法"}},[a._v("#")]),a._v(" 2."),_("a",{attrs:{href:"https://en.wikipedia.org/wiki/Genetic_algorithm",target:"_blank",rel:"noopener noreferrer"}},[a._v("遗传算法")])]),a._v(" "),_("h3",{attrs:{id:"_3-轮盘选择法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-轮盘选择法"}},[a._v("#")]),a._v(" 3."),_("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/62666777",target:"_blank",rel:"noopener noreferrer"}},[a._v("轮盘选择法")])]),a._v(" "),_("h3",{attrs:{id:"_4-模拟退火算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-模拟退火算法"}},[a._v("#")]),a._v(" 4."),_("a",{attrs:{href:"https://www.cnblogs.com/ranjiewen/p/6084052.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("模拟退火算法")])]),a._v(" "),_("h2",{attrs:{id:"二、系统功能-算法效果可视化"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#二、系统功能-算法效果可视化"}},[a._v("#")]),a._v(" 二、系统功能(算法效果可视化)")]),a._v(" "),_("h3",{attrs:{id:"_1-图像处理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-图像处理"}},[a._v("#")]),a._v(" 1.图像处理")]),a._v(" "),_("ul",[_("li",[a._v("根据所给图像和可交互基础参数实时输出畸变图像和畸变对比图(用于研究图像畸变原理)")]),a._v(" "),_("li",[a._v("根据所给畸变图像和可交互参数输出矫正过程和反畸变对比图(矫正算法可视化)")])]),a._v(" "),_("h3",{attrs:{id:"_2-视频处理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-视频处理"}},[a._v("#")]),a._v(" 2.视频处理")]),a._v(" "),_("ul",[_("li",[a._v("根据所给视频采样点和可交互参数输出矫正过程和反畸变对比图(矫正算法可视化)")]),a._v(" "),_("li",[a._v("根据所给视频和可交互参数输出矫正视频和对比视频(矫正算法可视化)")]),a._v(" "),_("li",[a._v("预设功能,方便用户载入上次所调参数数据")])]),a._v(" "),_("h2",{attrs:{id:"三、遇到的问题和相关解决方案"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#三、遇到的问题和相关解决方案"}},[a._v("#")]),a._v(" 三、遇到的问题和相关解决方案")]),a._v(" "),_("h3",{attrs:{id:"_1-如何实现两张图像的对比图"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-如何实现两张图像的对比图"}},[a._v("#")]),a._v(" 1.如何实现两张图像的对比图")]),a._v(" "),_("h4",{attrs:{id:"解决方案"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[a._v("#")]),a._v(" 解决方案:")]),a._v(" "),_("ul",[_("li",[a._v("利用 "),_("code",[a._v("canvas")]),a._v(" 自带的 "),_("code",[a._v("Web API")]),a._v("--"),_("code",[a._v("getimagedata()")]),a._v(" 获取图片的像素数据")]),a._v(" "),_("li",[a._v("将两张图像的像素数据相减的绝对值添加到原图像素数据的 "),_("code",[a._v("R")]),a._v(" 通道")]),a._v(" "),_("li",[a._v("利用 "),_("code",[a._v("canvas")]),a._v(" 自带的 "),_("code",[a._v("Web API")]),a._v("--"),_("code",[a._v("putimagedata()")]),a._v(" 将新数据画入 "),_("code",[a._v("canvas")])]),a._v(" "),_("li",[a._v("用 "),_("code",[a._v("canvas")]),a._v(" 标签将对比图渲染出来")])]),a._v(" "),_("h3",{attrs:{id:"_2-如何实现读取本地文件-涉及-electron-跨域"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-如何实现读取本地文件-涉及-electron-跨域"}},[a._v("#")]),a._v(" 2.如何实现读取本地文件(涉及 "),_("code",[a._v("Electron")]),a._v(" 跨域)")]),a._v(" "),_("h4",{attrs:{id:"解决方案a-针对于利用-upload-组件上传的文件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#解决方案a-针对于利用-upload-组件上传的文件"}},[a._v("#")]),a._v(" 解决方案A (针对于利用 "),_("code",[a._v("upload")]),a._v(" 组件上传的文件)")]),a._v(" "),_("ul",[_("li",[a._v("根据 "),_("code",[a._v("upload")]),a._v(" 组件在文件状态改变时会调用 "),_("code",[a._v("on-change")]),a._v(" 钩子，其中函数的默认参数包括文件数据 "),_("code",[a._v("file")])]),a._v(" "),_("li",[a._v("在定义 "),_("code",[a._v("on-change")]),a._v(" 钩子的函数中通过 "),_("code",[a._v("file")]),a._v(" 获得本地路径 "),_("code",[a._v("file.raw.path")]),a._v(" 和 "),_("code",[a._v("file.raw")]),a._v(" 对象")]),a._v(" "),_("li",[a._v("利用 "),_("code",[a._v("URL.createObjectURL(file.raw)")]),a._v(" 获得图片/视频的 "),_("code",[a._v("URL")]),a._v(" ( "),_("code",[a._v("Blob")]),a._v(" 对象)")]),a._v(" "),_("li",[a._v("将获得的 "),_("code",[a._v("URL")]),a._v(" 赋给 "),_("code",[a._v("img")]),a._v(" 或 "),_("code",[a._v("canvas")]),a._v(" 标签的 "),_("code",[a._v("src")])])]),a._v(" "),_("h4",{attrs:{id:"解决方案b-针对只有本地路径的文件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#解决方案b-针对只有本地路径的文件"}},[a._v("#")]),a._v(" 解决方案B (针对只有本地路径的文件)")]),a._v(" "),_("ul",[_("li",[a._v("利用 "),_("code",[a._v("Node.js")]),a._v(" 的"),_("a",{attrs:{href:"https://javascript.ruanyifeng.com/nodejs/fs.html",target:"_blank",rel:"noopener noreferrer"}},[_("code",[a._v("fs")]),a._v(" 模块")]),a._v("中异步读取文件方法 "),_("code",[a._v("fs.readFile")]),a._v(" 读取文件，回调函数中返回 "),_("code",[a._v("data")]),a._v(" 实例")]),a._v(" "),_("li",[a._v("利用 "),_("code",[a._v("new File(data)")]),a._v(" 获得文件流 "),_("code",[a._v("file")])]),a._v(" "),_("li",[a._v("利用  "),_("code",[a._v("URL.createObjectURL(file)")]),a._v(" 获得图片/视频的 "),_("code",[a._v("URL")])])]),a._v(" "),_("h3",{attrs:{id:"_3-electron主进程与渲染进程之间的通信"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-electron主进程与渲染进程之间的通信"}},[a._v("#")]),a._v(" 3.Electron主进程与渲染进程之间的通信")]),a._v(" "),_("h4",{attrs:{id:"渲染进程向主进程发送消息"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#渲染进程向主进程发送消息"}},[a._v("#")]),a._v(" 渲染进程向主进程发送消息")]),a._v(" "),_("ul",[_("li",[a._v("渲染进程引入 "),_("code",[a._v("ipcRenderer")]),a._v(", 利用 "),_("code",[a._v("ipcRenderer.send('message', data)")]),a._v("向主进程发送消息")]),a._v(" "),_("li",[a._v("主进程引入 "),_("code",[a._v("ipcMain")]),a._v(" , 利用 "),_("code",[a._v("ipcMain.on('message', (e, f) => {})")]),a._v(" 监听渲染进程发送消息的事件")])]),a._v(" "),_("h4",{attrs:{id:"主进程向渲染进程发送消息"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#主进程向渲染进程发送消息"}},[a._v("#")]),a._v(" 主进程向渲染进程发送消息")]),a._v(" "),_("ul",[_("li",[a._v("主进程利用 "),_("code",[a._v("mainWindow.webContents.send('message', data)")]),a._v(" 向渲染进程发送消息")]),a._v(" "),_("li",[a._v("渲染进程引入 "),_("code",[a._v("ipcRenderer")]),a._v(", 利用 "),_("code",[a._v("ipcRenderer.on('message', data)")]),a._v("监听主进程发送消息的事件")])]),a._v(" "),_("h3",{attrs:{id:"_4-异步同步问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-异步同步问题"}},[a._v("#")]),a._v(" 4.异步同步问题")]),a._v(" "),_("p",[a._v("由于算法运行需要一定的时间, 考虑异步操作会更符合需求")]),a._v(" "),_("h3",{attrs:{id:"_5-this-实例指向问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-this-实例指向问题"}},[a._v("#")]),a._v(" 5. "),_("code",[a._v("this")]),a._v(" 实例指向问题")]),a._v(" "),_("p",[_("code",[a._v("this")]),a._v(" 指向当前作用域的实例而不是指向 "),_("code",[a._v("Vue")]),a._v(" 实例, 写代码时若要用 "),_("code",[a._v("this")]),a._v(" 则需要仔细考虑 "),_("code",[a._v("this")]),a._v(" 指向的实例")]),a._v(" "),_("h3",{attrs:{id:"_6-如何存储预设数据-下次启动客户端-数据仍存在"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-如何存储预设数据-下次启动客户端-数据仍存在"}},[a._v("#")]),a._v(" 6.如何存储预设数据(下次启动客户端 数据仍存在)")]),a._v(" "),_("h4",{attrs:{id:"解决方案-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-2"}},[a._v("#")]),a._v(" 解决方案:")]),a._v(" "),_("ul",[_("li",[a._v("采用 "),_("code",[a._v("windows")]),a._v(" 自带的 "),_("code",[a._v("localStorge")]),a._v(" 字典存储 键值一一对应")]),a._v(" "),_("li",[a._v("localStorage是html5提供的一种本地存储的方法，可以把数据存储在本地浏览器，下次打开后仍然可以获取到存储的数据，如果在存储的数据 量小的时候可以起到代替数据库的功能，比cookies更有优越性。")]),a._v(" "),_("li",[a._v("localStorage只能存储字符串的数据，对于JS中常用的数组或对象却不能直接存储")]),a._v(" "),_("li",[a._v("可以通过JSON对象提供的parse和stringify进行对象和字符串的转换，进行数据存取")]),a._v(" "),_("li",[a._v("加载数据是先判断获取的数据是否为空，万一你可能一不小心清理了一下你的浏览器（狗头.jpg)")])]),a._v(" "),_("div",{staticClass:"language-js extra-class"},[_("pre",{pre:!0,attrs:{class:"language-js"}},[_("code",[a._v("  "),_("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 存储数据")]),a._v("\n  window"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("localStorage"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),_("span",{pre:!0,attrs:{class:"token function"}},[a._v("setItem")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),_("span",{pre:!0,attrs:{class:"token string"}},[a._v("'name'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" data"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),_("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 读取数据")]),a._v("\n  window"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("localStorage"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),_("span",{pre:!0,attrs:{class:"token function"}},[a._v("getItem")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),_("span",{pre:!0,attrs:{class:"token string"}},[a._v("'name'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),_("h3",{attrs:{id:"四、待优化-或许会优化吧"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#四、待优化-或许会优化吧"}},[a._v("#")]),a._v(" 四、待优化(或许会优化吧)")]),a._v(" "),_("ul",[_("li",[a._v("[ ] 图片加载过慢 "),_("code",[a._v("img")]),a._v(" 标签读取图片像素数据的方式 或许可以用 "),_("code",[a._v("canvas")]),a._v(" 标签")]),a._v(" "),_("li",[a._v("[ ] 视频同步卡顿  暂时没有想法")]),a._v(" "),_("li",[a._v("[ ] 加载中的交互逻辑 可以添加 "),_("code",[a._v("loading")]),a._v(" 组件")])]),a._v(" "),_("p",[a._v("项目地址："),_("a",{attrs:{href:"https://github.com/hanxinlou/AntiDistortionSystem",target:"_blank",rel:"noopener noreferrer"}},[a._v("毕设——VR反畸变系统设计")])])])}),[],!1,null,null,null);t.default=v.exports}}]);